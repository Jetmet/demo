# 设备管理调拨接口需求
<hr style="height:1px;">  
产品经理：杭卫霞  
项目经理：张金强  
后台：王喆  
前端：余冠豪 董聪  
测试：吴绮卉  


## 目录

* [调拨列表信息接口](#调拨列表信息接口)
* [调拨单条数据详情接口](#调拨单条数据详情接口)
* [调拨单条数据修改接口](#调拨单条数据修改接口)
* [调拨单条数据删除接口](#调拨单条数据删除接口)
* [调拨新增保存接口](#调拨新增保存接口)



## 调拨列表信息接口

### 说明

根据提供的参数，返回相应的列表信息

### 请求参数

| 参数名 | 参数含义   | 类型 | 必填 | 备注                                             |
| ------ | ---------- | ---- | ---- | ------------------------------------------------ |
| PIndex | 页码       | int  | Y    | 从0开始，0表示第一页                             |
| PSize  | 每页条数   | int  | N    | 不传默认每页10条，传0一次获取全部                |
|        | 是否已审核 | int  | Y    | 0表示请求未审核的调拨单，1表示请求已审核的调拨单 |

### 返回参数

| 参数名     | 参数含义   | 类型   | 必填 | 备注                             |
| ---------- | ---------- | ------ | ---- | -------------------------------- |
| Status     | 状态码     | int    | Y    | 0成功，其余失败                  |
| Message    | 响应信息   | string | Y    |                                  |
| TotalItems | 数据总条数 | long   | Y    |                                  |
| PageCount  | 总分页数   | long   |      |                                  |
| DataList   | 数据列表   | array  | Y    | 每一条数据都是一个对象，详见下表 |

#### DataList

| 属性名 | 属性含义 | 类型   | 必填 | 备注               |
| ------ | -------- | ------ | ---- | ------------------ |
|        | 调拨名称 | string | Y    | 例：挖掘机调拨     |
|        | 项目     | string | Y    | 例：新中大第一项目 |
|        | 调拨类型 | string | Y    | 例：项目间调拨     |
|        | 调拨日期 | string | Y    | 例：2019.2.21      |
|        | 单据状态 | string | Y    | 例：已审核         |
|        | 单据id   | string | Y    |                    |



## 调拨单条数据详情接口

### 说明
根据单条数据的id，返回该条数据的详细信息

### 请求参数

| 参数名 | 参数含义     | 类型   | 必填 | 备注 |
| ------ | ------------ | ------ | ---- | ---- |
|        | 单条数据的id | string | Y    |      |

### 返回参数

| 参数名  | 参数含义 | 类型   | 必填 | 备注            |
| ------- | -------- | ------ | ---- | --------------- |
| Status  | 状态码   | int    | Y    | 0成功，其余失败 |
| Message | 响应信息 | string | Y    |                 |
| Data    | 数据     | object | Y    | 详见下表        |

#### Data

| 属性名 | 属性含义 | 类型   | 必填 | 备注                                         |
| ------ | -------- | ------ | ---- | -------------------------------------------- |
|        | 调拨名称 | string | Y    |                                              |
|        | 调拨类型 | string | Y    |                                              |
|        | 调拨日期 | string | Y    |                                              |
|        | 调出组织 | string | Y    |                                              |
|        | 调出项目 | string | Y    |                                              |
|        | 设备明细 | object | Y    | 包括：资产编码、资产名称、资产类别、资产属性 |



## 调拨单条数据修改接口
### 说明
未审核的单条数据支持修改，前端录入修改信息后会提交给服务端

### 请求参数

| 参数名 | 参数含义                 | 类型   | 必填 | 备注                                               |
| ------ | ------------------------ | ------ | ---- | -------------------------------------------------- |
|        | 该条数据的id             | string | Y    |                                                    |
|        | 调拨名称                 | string | Y    |                                                    |
|        | 调拨类型                 | string | Y    |                                                    |
|        | 调拨日期                 | string | Y    |                                                    |
|        | 调出组织                 | string | Y    |                                                    |
|        | 调出项目                 | string | Y    |                                                    |
|        | 该调拨单中涉及的所有设备 | array  | Y    | 把设备的phid放进去，例：[000001,000002,020013,...] |

### 返回参数

| 参数名  | 参数含义 | 类型   | 必填 | 备注            |
| ------- | -------- | ------ | ---- | --------------- |
| Status  | 状态码   | int    | Y    | 0成功，其余失败 |
| Message | 响应信息 | string | Y    |                 |




## 调拨单条数据删除接口
### 说明
未审核的单条数据支持删除，前端会发送要删除的单条数据的id
### 请求参数


| 参数名 | 参数含义     | 类型   | 必填 | 备注 |
| ------ | ------------ | ------ | ---- | ---- |
|        | 单条数据的id | string | Y    |      |

### 返回参数

| 参数名  | 参数含义 | 类型   | 必填 | 备注            |
| ------- | -------- | ------ | ---- | --------------- |
| Status  | 状态码   | int    | Y    | 0成功，其余失败 |
| Message | 响应信息 | string | Y    |                 |



## 调拨新增保存接口

### 说明

调拨新增

### 请求参数

| 参数名 | 参数含义                 | 类型   | 必填 | 备注                                                     |
| ------ | ------------------------ | ------ | ---- | -------------------------------------------------------- |
|        | 调拨名称                 | string | Y    |                                                          |
|        | 调拨类型                 | string | Y    |                                                          |
|        | 调拨日期                 | string | Y    |                                                          |
|        | 调出组织                 | string | Y    |                                                          |
|        | 调出项目                 | string | Y    |                                                          |
|        | 该调拨单中涉及的所有设备 | array  | Y    | 把设备的phid放进去，例：['000001','000002','020013',...] |

### 返回参数

| 参数名  | 参数含义 | 类型   | 必填 | 备注            |
| ------- | -------- | ------ | ---- | --------------- |
| Status  | 状态码   | int    | Y    | 0成功，其余失败 |
| Message | 响应信息 | string | Y    |                 |
